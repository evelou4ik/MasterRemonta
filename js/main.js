"use strict";var menu=document.querySelector(".header__menu"),burger=document.querySelector(".burger"),mobileBack=document.querySelector(".mobile-back"),lockScroll=function(){document.body.classList.toggle("lock")},unlockScroll=function(){document.body.classList.remove("lock")},initialMenu=function(){document.querySelector(".header__list--dropdown").classList.remove("transformation"),document.querySelector(".header__menu").querySelector(".header__list").classList.remove("transformation"),scrollTop()},scrollTop=function(){menu.scrollTo({top:0,behavior:"smooth"})};burger.addEventListener("click",(function(){burger.classList.toggle("open"),menu.classList.toggle("open"),lockScroll(),initialMenu()})),window.addEventListener("click",(function(e){document.querySelector(".header__menu").contains(e.target)||document.querySelector(".burger").contains(e.target)||(burger.classList.remove("open"),menu.classList.remove("open"),unlockScroll())})),menu.addEventListener("click",(function(e){e.target.classList.contains("header__link--drop")&&(e.preventDefault(),e.target.closest(".header__list").classList.add("transformation"),e.target.closest(".header__item").querySelector(".header__list--dropdown").classList.add("transformation"),scrollTop()),e.target.classList.contains("mobile-back__link")&&(e.preventDefault(),e.target.closest(".header__list--dropdown").classList.remove("transformation"),e.target.closest(".header__menu").querySelector(".header__list").classList.remove("transformation"),scrollTop()),e.target.classList.contains("header__link")&&!e.target.classList.contains("header__link--drop")&&(burger.classList.remove("open"),menu.classList.remove("open"),unlockScroll())}));var changeHeight=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))};changeHeight(),window.addEventListener("resize",(function(){changeHeight()}));var offset=100,scrollUp=document.querySelector(".scroll-up"),scrollUpSvgPath=document.querySelector(".scroll-up__svg-path"),pathLength=scrollUpSvgPath.getTotalLength();scrollUpSvgPath.style.strokeDasharray="".concat(pathLength," ").concat(pathLength),scrollUpSvgPath.style.transition="stroke-dashoffset 20ms";var getTop=function(){return window.pageYOffset||document.documentElement.scrollTop},updateDashoffset=function(){var e=document.documentElement.scrollHeight-window.innerHeight,t=pathLength-getTop()*pathLength/e;scrollUpSvgPath.style.strokeDashoffset=t};window.addEventListener("scroll",(function(){updateDashoffset(),getTop()>offset?scrollUp.classList.add("scroll-up--active"):scrollUp.classList.remove("scroll-up--active")})),scrollUp.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})}));var sliderFirst=document.querySelector(".promotion__slider"),sliderSecond=document.querySelector(".room__slider-main"),sliderSecondThumbs=document.querySelector(".room__slider-thumbs"),sliderThird=document.querySelector(".instance__slider"),swiperFirst=new Swiper(sliderFirst,{slidesPerView:1,loop:!0,navigation:{nextEl:".promotion__btn-next",prevEl:".promotion__btn-prev"},autoplay:{delay:3e3}}),swiperSecond=new Swiper(sliderSecond,{effect:"flip",navigation:{nextEl:".room__btn-next",prevEl:".room__btn-prev"},loop:!0,loopedSlides:5}),swiperSecondThumbs=new Swiper(sliderSecondThumbs,{direction:"vertical",spaceBetween:13,slidesPerView:"auto",slideToClickedSlide:!0,loop:!0,loopedSlides:4}),swiperThird=new Swiper(sliderThird,{loop:!0,navigation:{nextEl:".instance__btn-next",prevEl:".instance__btn-prev"},autoplay:{delay:4e3},breakpoints:{567:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:25},1200:{slidesPerView:3,spaceBetween:26}}});swiperSecond.controller.control=swiperSecondThumbs,swiperSecondThumbs.controller.control=swiperSecond,$(".tabs__item").click((function(){var e=$("."+$(this).data("open"));$(e).siblings().removeClass("is-show"),$(this).siblings().removeClass("is-show"),$(this).addClass("is-show"),$(e).addClass("is-show")})),$(".tabs__close").on("click",(function(){$(".tabs__item").removeClass("is-show"),$(".tabs__content--sidebar").removeClass("is-show")})),window.addEventListener("click",(function(e){!document.querySelector(".sidebar").contains(e.target)&&document.querySelector(".tabs__content--sidebar.is-show")&&(document.querySelector(".tabs__item.is-show").classList.remove("is-show"),document.querySelector(".tabs__content--sidebar.is-show").classList.remove("is-show"))}));var inputs=document.querySelectorAll('input[type="tel"]'),im=new Inputmask("+7 (999) 999-99-99");function validateForms(e,t){new window.JustValidate(e,{rules:t,submitHandler:function(e,t,o){var s=new FormData(e);fetch("mail.php",{method:"POST",body:s}).then((function(t){e.reset()}))}})}im.mask(inputs),validateForms(".call-popup",{email:{required:!0,email:!0},fio:{required:!0},tel:{required:!0}}),$(document).ready((function(){var e=document.querySelector(".examples__cards");e&&mixitup(e)})),$(document).ready((function(){$(".popup").magnificPopup({callbacks:{open:function(){document.querySelector("body").classList.add("hidden")},close:function(){document.querySelector("body").classList.remove("hidden")}}})}));